!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){(function(t){var n=t&&t.pid?t.pid.toString(36):"";function s(){var e=Date.now(),t=s.last||e;return s.last=e>t?e:t+1}e.exports=e.exports.default=function(e){return(e||"")+""+n+s().toString(36)},e.exports.process=function(e){return(e||"")+n+s().toString(36)},e.exports.time=function(e){return(e||"")+s().toString(36)}}).call(this,n(1))},function(e,t){var n,s,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{s="function"==typeof clearTimeout?clearTimeout:o}catch(e){s=o}}();var c,u=[],l=!1,d=-1;function p(){l&&c&&(l=!1,c.length?u=c.concat(u):d=-1,u.length&&h())}function h(){if(!l){var e=a(p);l=!0;for(var t=u.length;t;){for(c=u,u=[];++d<t;)c&&c[d].run();d=-1,t=u.length}c=null,l=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||l||a(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s);class r{constructor(){this.qsets=[]}addQuestionSet(e,t,n){t=o(t.split(/\n/));let s=function(e){const t=[];for(let n=0;n<e.length;n++){e[n];t.push([...e])}for(var n=0;n<=t.length-1;n++){let s=t[n];for(;3!==s.length;){let t=Math.floor(Math.random()*s.length);s[t]!==e[n]&&s.splice(t,1)}}return t}(n=o(n.split(/\n/)));const r={id:i()(),quizName:e,questions:t,answerKey:n,choices:s};return this.qsets.push(r),console.log(this.qsets),this.persistData(),r}deleteQuestionSet(e){const t=this.qsets.findIndex(t=>t.id===e);this.qsets.splice(t,1),console.log(this.qsets),this.persistData()}persistData(){localStorage.setItem("qsets",JSON.stringify(this.qsets))}readStorage(){const e=JSON.parse(localStorage.getItem("qsets"));return e&&(this.qsets=e),e}}function o(e){for(let t=0;t<e.length;){""===e[t]?e.splice(t,1):t++}return e}const a={questArea:document.getElementById("questionArea"),answerKeyArea:document.getElementById("answerKeyArea"),nameArea:document.getElementById("setNameArea"),submitQuestions:document.getElementById("submit"),checkAnsBut:document.querySelector(".checkAnsBut"),addQuizBut:document.querySelector(".addQuizBut"),nextBut:document.querySelector(".nextBut"),prevBut:document.querySelector(".prevBut"),getQuestionsArea:document.querySelector(".get_questions-container"),setChoicesArea:document.querySelector(".set_choices-container"),setButtonsContainer:document.querySelector(".setButtonContainers"),questSetContainer:document.querySelector(".questSet-container"),setCardOptions:document.querySelector(".setCard_options"),setCardDropdown:document.querySelector(".options_dropdown"),quizContainer:document.querySelector(".quiz-container"),progressSteps:document.getElementsByClassName("step"),displayQuestions:document.querySelector(".displayQuestions"),questionNumber:document.querySelector(".questionNumber-container"),questionContainer:document.querySelector(".question-container"),choicesContainer:document.querySelector(".choices-container"),inputChoices:document.getElementsByTagName("input")},c=e=>{const t=`<div class="setCard" id="${e.quizName}" data-itemid=${e.id}>\n            <div class="setCard_options noselect" id="${e.quizName}"><span id="${e.quizName}">&#8942;</span><div class="options_dropdown " id="${e.quizName}">\n                    <a class="edit noselect" id="${e.quizName}">Edit</a>\n                    <a class="delete noselect" id="${e.quizName}">Delete</a>\n                </div></div>\n            <p class="setCard_title noselect" id="${e.quizName}">${e.quizName}</p>\n        </div>`;a.questSetContainer.insertAdjacentHTML("beforeend",t)},u=()=>{const e=a.questSetContainer;for(;e.hasChildNodes();)e.removeChild(e.firstChild)},l=()=>{a.setButtonsContainer.insertAdjacentHTML("beforebegin",'<p id="noQuiz">No Quizzes yet, Add some now.</p>')};class d{constructor(e,t,n,s){this.name=e,this.questions=t,this.choices=s,this.answerKey=n}shuffleChoices(){this.choices.forEach(e=>{e.shuffleArray()})}checkAnswer(e,t){return e===t}}Array.prototype.shuffleArray=function(){for(var e,t,n=this.length;--n>0;)e=this[t=Math.floor(Math.random()*(n+1))],this[t]=this[n],this[n]=e;return this};let p,h=1,m=0;const f=e=>{a.quizContainer.style.display="block",a.setChoicesArea.style.display="none";const t=`\n    <div class="displayQuestions">\n            <button class="backBut button"><span>Go Back</span></button>\n            <div class="questionNumber-container">\n                <h4>Question ${h} of ${(p=e).questions.length}</h4>    \n            </div>\n            <div class="progressBar-container">\n                <div class="progressBar">\n                    <div class="progress">\n                        <div class="percent"></div>\n                    </div>\n                    <div class="steps">\n                        \n                    </div>\n                </div>\n            </div>\n            <div class="question-container">\n                <p class="question">${e.questions[h-1]}</p>\n            </div>\n\n            <p>Choose the right answer:</p>\n            <div class="choices-container">\n                <ul>\n                    <li>\n                        <input id="choice1" type="radio" name="userAnswer" value="${e.choices[h-1][0]}">\n                        <label for="choice1">${e.choices[h-1][0]}</label>\n                    </li>\n                    <li>\n                        <input id="choice2" type="radio" name="userAnswer" value="${e.choices[h-1][1]}">\n                        <label for="choice2">${e.choices[h-1][1]}</label>\n                    </li>\n                    <li>\n                        <input id="choice3" type="radio" name="userAnswer" value="${e.choices[h-1][2]}">\n                        <label for="choice3">${e.choices[h-1][2]}</label>\n                    </li>\n                </ul>\n            </div>\n        <button class="checkAnsBut button">Check Answer!</button>\n    </div>\n    `;a.quizContainer.insertAdjacentHTML("afterbegin",t),g(p.questions.length)},g=e=>{for(let t=0;t<e;t++)if(0===t){const e=`<div class="step selected" id="${t}"></div>`;document.querySelector(".steps").insertAdjacentHTML("beforeend",e)}else{const e=`<div class="step" id="${t}"></div>`;document.querySelector(".steps").insertAdjacentHTML("beforeend",e)}};let q=[];const y=e=>{parseInt(e)>=0&&(h=parseInt(e)),h!==p.questions.length&&(h++,document.querySelector(".questionNumber-container").innerHTML=`<h4>Question ${h} of ${p.questions.length}</h4>`,document.querySelector(".question-container").innerHTML=`<p class="question">${p.questions[h-1]}</p>`,document.querySelector(".choices-container").innerHTML=`\n        <ul>\n            <li>\n                <input id="choice1" type="radio" name="userAnswer" value="${p.choices[h-1][0]}">\n                <label for="choice1">${p.choices[h-1][0]}</label>\n            </li>\n            <li>\n                <input id="choice2" type="radio" name="userAnswer" value="${p.choices[h-1][1]}">\n                <label for="choice2">${p.choices[h-1][1]}</label>\n            </li>\n            <li>\n                <input id="choice3" type="radio" name="userAnswer" value="${p.choices[h-1][2]}">\n                <label for="choice3">${p.choices[h-1][2]}</label>\n            </li>\n        </ul>`),document.querySelector(".checkAnsBut").innerHTML="Check Answer!",(e=>{let t=e+e/p.questions.length*100;document.getElementsByClassName("percent")[0].style.width=`${t}%`,q.forEach(t=>{t.id==e?t.classList.add("selected"):t.classList.remove("selected")})})(h-1)},v=()=>{const e=a.quizContainer;for(;e.hasChildNodes();)e.removeChild(e.firstChild)},S=e=>{e?(q[h-1].classList.remove("wrong"),q[h-1].classList.add("correct")):(q[h-1].classList.remove("correct"),q[h-1].classList.add("wrong"))},b=e=>{e.addEventListener("animationstart",n=>{n.target.classList.add("shakeElement"),e.addEventListener("animationend",t)});let t=n=>{e.removeEventListener("animationend",t),e.classList.remove("shakeElement")}};function A(){u(),w.questionSet.qsets.forEach(e=>{c(e)})}const w={};window.state=w;const C=()=>{w.questionSet||(w.questionSet=new r);let e=!1;if(a.nameArea.value,a.questArea.value,""!==a.answerKeyArea.value){if(w.questionSet.qsets.forEach(t=>{t.quizName===a.nameArea.value&&(alert("Oops name is already taken!"),e=!0)}),!e){let e=a.nameArea.value;(e=(e=e.toLowerCase()).split(/\s/)).forEach((e,t,n)=>{n[t]=e[0].toUpperCase()+e.slice(1)}),e=e.join(" ");let t=a.questArea.value;t=(t=t.replace(/-/g,"")).replace(/^\s*[\r\n]/gm,"");let n=a.answerKeyArea.value;n=(n=n.replace(/-/g,"")).replace(/^\s*[\r\n]/gm,""),w.questionSet.addQuestionSet(e,t,n),A()}a.nameArea.value="",a.questArea.value="",a.answerKeyArea.value=""}};let L;a.addQuizBut.addEventListener("click",()=>{a.getQuestionsArea.style.display="block"}),a.questArea.addEventListener("keyup",e=>{(e.isComposing||13===e.keyCode)&&(L=a.questArea.value,L=N(L),a.questArea.value=L)}),a.answerKeyArea.addEventListener("keyup",e=>{(e.isComposing||13===e.keyCode)&&(L=a.answerKeyArea.value,L=N(L),a.answerKeyArea.value=L)});const N=e=>{e=(e=e.replace(/-/g,"")).replace(/^\s*[\r\n]/gm,"");let t="";for(let e=0;e<a.questArea.cols;e++)t+="-";return e=e.replace(/\n/g,`\n${t}\n`)};a.submitQuestions.addEventListener("click",e=>{e.preventDefault(),C(),document.getElementById("noQuiz")&&a.setButtonsContainer.parentNode.removeChild(document.getElementById("noQuiz")),a.getQuestionsArea.style.display="none"}),a.questSetContainer.addEventListener("click",e=>{let t=w.questionSet.qsets.find(t=>e.target.id===t.quizName);const n=t.id;"Edit"==e.target.text||("Delete"==e.target.text?(null!==e.target.parentNode.parentNode.parentNode.nextSibling&&e.target.parentNode.parentNode.parentNode.nextSibling.classList.toggle("giveSpaceDropdown"),w.questionSet.deleteQuestionSet(n),(e=>{const t=document.querySelector(`[data-itemid="${e}"]`);t.parentElement.removeChild(t)})(n),0===w.questionSet.qsets.length&&l()):e.target.matches(".setCard_options, .setCard_options *")?(e.target.parentNode.lastChild.classList.toggle("dropdownDisplay"),null!==e.target.parentNode.parentNode.nextSibling&&e.target.parentNode.parentNode.nextSibling.classList.toggle("giveSpaceDropdown")):e.target.matches(".setCard, .setCard *")&&(w.quizStart||(w.quizStart=new d(t.quizName,t.questions,t.answerKey,t.choices)),w.quizStart.shuffleChoices(),v(),f(w.quizStart),Array.prototype.forEach.call(a.progressSteps,e=>{q.push(e),e.addEventListener("click",e=>{console.log(e.target.id),y(e.target.id)})})))}),a.quizContainer.addEventListener("click",e=>{if(console.log(e.target.id),"Check Answer!"===e.target.innerText){const t=(()=>{for(let e=0;e<a.inputChoices.length;e++)if((a.inputChoices[e].type="radio")&&a.inputChoices[e].checked)return a.inputChoices[e]})(),n=(()=>p.answerKey[h-1])(),s=w.quizStart.checkAnswer(t.value,n);s?((e,t,n)=>{m+=1;e.parentNode.insertAdjacentHTML("beforeend",'\n    <p class="correctAnsIcon">&#10004;</p>\n    '),S(n),h===p.questions.length?t.innerHTML="<span>Finish</span>":t.innerHTML="<span>Next Question</span>"})(t,e.target,s):((e,t,n)=>{e.parentNode.insertAdjacentHTML("beforeend",'\n    <p class="wrongAnsIcon">&#10008;</p>\n    '),t.classList.add("shakeElement"),b(t),S(n),h===p.questions.length?t.innerHTML="<span>Finish</span>":t.innerHTML="<span>Next Question</span>"})(t,e.target,s)}else"Next Question"===e.target.innerText?y():"Go Back"===e.target.innerText||"finishQuiz"===e.target.id?(w.quizStart=void 0,a.setChoicesArea.style.display="block",a.quizContainer.style.display="none",h=1):"Finish"===e.target.innerText&&(w.quizStart=void 0,(()=>{v(),h=1;const e=`\n    <div class="finishedQuiz_container">\n    <h3>You got ${m} out of ${p.questions.length}</h3>\n    <button class="finishBut button" id="finishQuiz">Finish!</button>\n    </div>\n    `;a.quizContainer.insertAdjacentHTML("afterbegin",e)})())}),window.addEventListener("load",()=>{w.questionSet=new r,w.questionSet.readStorage(),0===w.questionSet.qsets.length&&l(),A()})}]);